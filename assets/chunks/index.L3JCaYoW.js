import{h,a6 as A,N as J,g as I,m as a,ar as G,y as E,at as Q,d as T,a7 as X,o as f,c as k,n as w,R as _,b as $,w as p,F as H,r as y,e as x,M as ee,J as te,k as b,Q as z,I as S,t as N,a as j,j as oe,aJ as ne,aj as se,aa as le,T as ae,ak as ie,aq as R}from"./framework.PGlv_uIa.js";import{b as B,j as U}from"./is.cugBKH0e.js";import{m as ce,c as re,n as ue}from"./index.ogwzaEq4.js";const L=(e,o)=>{if(e.install=t=>{for(const s of[e,...Object.values(o??{})])t.component(s.name,s)},o)for(const[t,s]of Object.entries(o))e[t]=s;return e},Pe=e=>(e.install=()=>{},e),Ke=B?window:void 0,D=()=>{};let F;const de=()=>{var n;if(!B)return 0;if(F!==void 0)return F;const e=document.createElement("div");e.style.overflow="auto",e.style.height="100%",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const o=e.offsetWidth;e.style.overflow="scroll";const t=document.createElement("div");t.style.width="100%",e.appendChild(t);const s=t.offsetWidth;return(n=e.parentNode)==null||n.removeChild(e),F=o-s,F},Y=(e="")=>e.split(" ").filter(o=>!!o.trim()),P=(e,o)=>{if(!e||!o)return!1;if(o.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(o)},fe=(e,o)=>{!e||!o.trim()||e.classList.add(...Y(o))},me=(e,o)=>{!e||!o.trim()||e.classList.remove(...Y(o))},ye=(e,o)=>{var t;if(!B||!e||!o)return"";try{const s=e.style[o];if(s)return s;const n=(t=document.defaultView)==null?void 0:t.getComputedStyle(e,"");return n?n[o]:""}catch{return e.style[o]}},O="fb",ve="is-",W=(e,o,t,s,n)=>{let l=`${e}-${o}`;return t&&(l+=`-${t}`),s&&(l+=`__${s}`),n&&(l+=`--${n}`),l},pe=Symbol("namespaceContextKey"),he=()=>{const e=A()?J(pe,h(O)):h(O);return I(()=>a(e)||O)},M=(e,o)=>{const t=o?h(o):he();return{namespace:t,b:(c="")=>W(t.value,e,c,"",""),m:c=>c?W(t.value,e,"","",c):"",e:c=>c?W(t.value,e,"",c,""):"",is:(c,...m)=>{const u=m.length>=1?m[0]:!0;return c&&u?`${ve}${c}`:""}}},we=e=>{if(!e)return{onClick:D,onMousedown:D,onMouseup:D};let o=!1,t=!1;return{onClick:r=>{o&&t&&e(r),o=t=!1},onMousedown:r=>{o=r.target===r.currentTarget},onMouseup:r=>{t=r.target===r.currentTarget}}},K=h(0),be=2e3,ge=Symbol("zIndexContextKey"),Ce=e=>{const o=e||(A()?J(ge,void 0):void 0),t=I(()=>{const l=a(o);return U(l)?l:be}),s=I(()=>t.value+K.value);return{nextZIndex:()=>(K.value++,s.value)}},ke=(e,o)=>{if(G(e)||console.error("[useLockscreen]，您需要将ref参数传递给此函数"),!B||P(document.body,o))return;let t=0,s=!1,n="0";const l=()=>{setTimeout(()=>{me(document==null?void 0:document.body,o),s&&document&&(document.body.style.width=n)},200)};E(e,r=>{if(!r){l();return}s=!P(document.body,o),s&&(n=document.body.style.width),t=de();const c=document.documentElement.clientHeight<document.body.scrollHeight,m=ye(document.body,"overflowY");t>0&&(c||m==="scroll")&&s&&(document.body.style.width=`calc(100% - ${t}px)`),fe(document.body,o)}),Q(()=>l())},$e=T({name:"BaseWave",__name:"wave",setup(e,{expose:o}){const t=M("base-wave"),s=h(null),n=h(!1);let l=null;return X(()=>{l!==null&&window.clearTimeout(l)}),o({play:()=>{l!==null&&(window.clearTimeout(l),n.value=!1,l=null),_(()=>{var c;(c=s.value)==null||c.offsetHeight,n.value=!0,l=window.setTimeout(()=>{n.value=!1,l=null},1e3)})}}),(c,m)=>(f(),k("div",{ref_key:"selfRef",ref:s,"aria-hidden":"",class:w([a(t).b(),n.value&&"is-active"])},null,2))}}),xe={key:2,class:"btn-text"},Ie=T({name:"FbButton",__name:"button",props:{tag:{default:"button"},type:null,ghost:{type:Boolean},plain:{type:Boolean},size:null,width:null,disabled:{type:Boolean},loading:{type:Boolean},wave:{type:Boolean,default:!0}},emits:{click:e=>e instanceof MouseEvent},setup(e,{emit:o}){const t=e,s=o,n=M("button"),l=h(null),r=I(()=>({disabled:t.disabled||t.loading})),c=I(()=>{const u={};return t.width&&(u.width=typeof t.width=="string"?t.width:`${t.width}px`),u}),m=u=>{var v;!t.disabled&&!t.loading&&(s("click",u),(v=l.value)==null||v.play())};return(u,v)=>(f(),$(te(e.tag),ee(r.value,{style:c.value,onClick:m,class:[a(n).b(),a(n).m(e.type),a(n).m(e.size),a(n).is("disabled",e.disabled),a(n).is("loading",e.loading),a(n).is("plain",e.plain),a(n).is("ghost",e.ghost)]}),{default:p(()=>{var d,i,g;return[e.loading?(f(),k(H,{key:0},[(d=u.$slots)!=null&&d.loading?y(u.$slots,"loading",{key:0}):(f(),$(a(ce),{key:1,class:"icon-loading"}))],64)):(i=u.$slots)!=null&&i.icon?y(u.$slots,"icon",{key:1}):x("",!0),(g=u.$slots)!=null&&g.default?(f(),k("span",xe,[y(u.$slots,"default")])):x("",!0),e.wave?(f(),$($e,{key:3,ref_key:"waveElRef",ref:l},null,512)):x("",!0)]}),_:3},16,["style","class"]))}}),Be=L(Ie),V=Be,Te=T({__name:"dialog-overlay",props:{modal:{type:Boolean},zIndex:null,overlayClass:null,closeOnClickModal:{type:Boolean},alignCenter:{type:Boolean}},emits:{click:e=>e instanceof MouseEvent},setup(e,{emit:o}){const t=e,s=o,n=M("dialog"),l=I(()=>t.alignCenter?{display:"flex"}:{}),r=v=>{s("click",v)},{onMousedown:c,onMouseup:m,onClick:u}=we(r);return(v,d)=>e.modal?(f(),k("div",{key:0,class:w([e.overlayClass,a(n).e("overlay")]),style:z({zIndex:e.zIndex})},[b("div",{class:w([a(n).e("overlay-dialog")]),style:z(l.value),onMousedown:d[0]||(d[0]=(...i)=>a(c)&&a(c)(...i)),onMouseup:d[1]||(d[1]=(...i)=>a(m)&&a(m)(...i)),onClick:d[2]||(d[2]=(...i)=>a(u)&&a(u)(...i))},[y(v.$slots,"default")],38)],6)):(f(),k("div",{key:1,class:w(e.overlayClass),style:z({zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"})},[b("div",{class:w([a(n).e("overlay-dialog")]),style:z(l.value),onMousedown:d[3]||(d[3]=(...i)=>a(c)&&a(c)(...i)),onMouseup:d[4]||(d[4]=(...i)=>a(m)&&a(m)(...i)),onClick:d[5]||(d[5]=(...i)=>a(u)&&a(u)(...i))},[y(v.$slots,"default")],38)],6))}}),Me={class:"title"},ze=T({__name:"dialog-content",props:{showClose:{type:Boolean},title:null},emits:{close:()=>!0},setup(e){const o=M("dialog");return(t,s)=>{var n;return f(),k(H,null,[e.showClose?(f(),k("button",{key:0,class:"closeIconbtn",onClick:s[0]||(s[0]=l=>t.$emit("close"))},[S(a(re))])):x("",!0),b("header",{class:w([a(o).e("header")])},[y(t.$slots,"header",{},()=>[b("p",Me,N(e.title),1)])],2),b("div",{class:w([a(o).e("body")])},[y(t.$slots,"default",{},()=>[j("内容区，请使用插槽添加内容")])],2),(n=t.$slots)!=null&&n.footer?(f(),k("footer",{key:1,class:w([a(o).e("footer")])},[y(t.$slots,"footer")],2)):x("",!0)],64)}}}),Se=T({inheritAttrs:!1,name:"FbDialog",__name:"dialog",props:{showClose:{type:Boolean,default:!0},title:null,modal:{type:Boolean,default:!0},zIndex:null,overlayClass:null,closeOnClickModal:{type:Boolean,default:!1},appendTo:{default:"body"},top:null,width:null,alignCenter:{type:Boolean,default:!1},open:{type:Boolean},lockScroll:{type:Boolean,default:!0},beforeClose:{type:Function},onClose:{type:Function}},emits:{close:()=>!0,"update:open":e=>typeof e=="boolean"},setup(e,{emit:o}){const t=e,s=M("dialog"),n=o,l=h(!1),{nextZIndex:r}=Ce(),c=h(U(t.zIndex)?t.zIndex:r()),m=I(()=>{const i={};return t.top&&(i["margin-top"]=t.top),t.width&&(i.width=typeof t.width=="string"?t.width:`${t.width}px`),i}),u=()=>{n("close"),n("update:open",!1)},v=()=>{t.closeOnClickModal&&d()};t.lockScroll&&ke(l,s.b("parent--hidden"));const d=()=>{var g;function i(C){C||(l.value=!1)}t!=null&&t.beforeClose?(g=t==null?void 0:t.beforeClose)==null||g.call(t,i):l.value=!1};return oe(()=>{if(t.open){if(!B)return;l.value=!0}}),E(()=>t.open,i=>{if(i){if(!B)return;l.value=!0}else l.value&&(l.value=!1)}),(i,g)=>(f(),$(ie,{to:t.appendTo},[S(ae,{name:"dialog-fade",onAfterLeave:u},{default:p(()=>[le(S(Te,{modal:t.modal,"overlay-class":t.overlayClass,"z-index":c.value,"align-center":t.alignCenter,onClick:v},{default:p(()=>{var C,Z;return[b("div",{style:z(m.value),role:"dialog",class:w([a(s).b(),a(s).is("align-center",t.alignCenter),(C=i.$attrs)==null?void 0:C.class])},[S(ze,{"show-close":t.showClose,onClose:d,title:e.title},ne({header:p(()=>[y(i.$slots,"header")]),default:p(()=>[y(i.$slots,"default")]),_:2},[(Z=i.$slots)!=null&&Z.footer?{name:"footer",fn:p(()=>[y(i.$slots,"footer")]),key:"0"}:void 0]),1032,["show-close","title"])],6)]}),_:3},8,["modal","overlay-class","z-index","align-center"]),[[se,l.value]])]),_:3})],8,["to"]))}}),Fe=L(Se),Ne=Fe,Ee={class:"cc-header"},De={class:"title"},Oe=["innerHTML"],We={class:"cc-footer"},q=T({name:"FbPrompt",__name:"prompt",props:{content:null,title:{default:"温馨提示"},okText:{default:"确认"},cancelText:{default:"取消"},showIcon:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},width:{default:"440px"},open:{type:Boolean}},emits:["cancel","ok","update:open"],setup(e,{expose:o,emit:t}){const s=e,n=t,l=M("prompt"),r=h(!1),c=h(null),m=()=>{if(c.value=="OK"){c.value=null;return}n("cancel",{type:c.value||"notBtn"}),c.value=null},u=()=>{c.value="cancel",r.value=!1},v=()=>{c.value="ok",r.value=!1,n("ok")},d=()=>{r.value=!1};return E(()=>a(s.open),i=>{r.value=i},{immediate:!0}),E(()=>a(r),i=>{i||n("update:open",!1)}),o({close:d}),(i,g)=>(f(),$(a(Ne),{open:r.value,"onUpdate:open":g[0]||(g[0]=C=>r.value=C),"show-close":e.showClose,onClose:m,width:e.width,top:"25vh",class:w(a(l).b())},{header:p(()=>{var C;return[b("div",Ee,[e.showIcon?(f(),k(H,{key:0},[(C=i.$slots)!=null&&C.icon?y(i.$slots,"icon",{key:0}):(f(),$(a(ue),{key:1,class:"chat-icon"}))],64)):x("",!0),b("p",De,N(e.title),1)])]}),footer:p(()=>[y(i.$slots,"footer",{},()=>[b("div",We,[e.cancelText?(f(),$(a(V),{key:0,plain:"",onClick:u},{default:p(()=>[j(N(e.cancelText),1)]),_:1})):x("",!0),e.okText?(f(),$(a(V),{key:1,type:"primary",onClick:v},{default:p(()=>[j(N(e.okText),1)]),_:1})):x("",!0)])])]),default:p(()=>[y(i.$slots,"default",{},()=>[b("p",{class:"dec",innerHTML:e.content},null,8,Oe)])]),_:3},8,["open","show-close","width","class"]))}}),je=e=>{if(!B)return{close:()=>{}};const o=document.createElement("div"),t={...e,onCancel:r=>{var c;(c=e==null?void 0:e.onCancel)==null||c.call(e,r),R(null,o)},open:!0},s=S(q,t);R(s,o);const n=s.component;return{close:()=>{n.exposed.close()}}},Ve=je,He=L(q),Ae=He;export{V as F,D as N,$e as _,Pe as a,Ce as b,Ne as c,Ke as d,Ae as e,Ve as p,M as u,L as w};
